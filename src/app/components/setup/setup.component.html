
<app-layout>
  <app-stepper [disableNavigation]="true"></app-stepper>
  <nz-collapse>
    <nz-collapse-panel nzHeader="Firebase configuration" nzActive>
      <textarea
        nz-input
        spellcheck="false"
        [placeholder]="databaseConfigSample"
        [value]="setup.databaseConfig"
        [nzAutosize]="{ minRows: 9, maxRows: 10 }"
      ></textarea>
    </nz-collapse-panel>
    <nz-collapse-panel nzHeader="Authentication">
      <label nz-checkbox class="checkbox" [(ngModel)]="setup.authentication.anonymous.enabled">Anonymous</label>
      <label nz-checkbox class="checkbox" [(ngModel)]="setup.authentication.emailAndPassword.enabled">Email and password</label>
      <div *ngIf="setup.authentication.emailAndPassword.enabled" class="m-10 mw-300">
        <input
          nz-input
          type="text"
          placeholder="Email"
          [(ngModel)]="setup.authentication.emailAndPassword.credentials.email"
        />
        <br>
        <nz-input-group [nzSuffix]="passwordSuffixTpl" class="mt-12">
          <input
            [type]="setup.authentication.emailAndPassword.isPasswordVisible ? 'text' : 'password'"
            nz-input
            placeholder="Password"
            [(ngModel)]="setup.authentication.emailAndPassword.credentials.password"
          />
        </nz-input-group>
        <ng-template #passwordSuffixTpl>
          <i nz-icon
            [nzType]="setup.authentication.emailAndPassword.isPasswordVisible ? 'eye-invisible' : 'eye'"
            (click)="setup.authentication.emailAndPassword.isPasswordVisible = !setup.authentication.emailAndPassword.isPasswordVisible"
          ></i>
        </ng-template>
      </div>
      <label nz-checkbox class="checkbox" [(ngModel)]="setup.authentication.jwt.enabled">JWT</label>
      <div *ngIf="setup.authentication.jwt.enabled" class="m-10 mw-300">
        <input nz-input type="text" placeholder="Token" [(ngModel)]="setup.authentication.jwt.credentials.token" />
      </div>
    </nz-collapse-panel>
    <nz-collapse-panel nzHeader="Miscellaneous">
      <div nz-row>
        <div nz-col nzSpan="2" class="d-flex-center">
          <label>Test collections:</label>
        </div>
        <div nz-col nzSpan="10">
          <nz-select [(ngModel)]="setup.miscellaneous.collections" class="full-width" nzMode="tags" nzPlaceHolder="Collections">
            <nz-option *ngFor="let collection of setup.miscellaneous.collections" [nzLabel]="collection" [nzValue]="collection"></nz-option>
          </nz-select>
        </div>
      </div>
    </nz-collapse-panel>
  </nz-collapse>
  <button nz-button class="start-button" nzType="default" nzSize="large" nzShape="round" [disabled]="disableStartButton" (click)="start()">
    <i nz-icon nzType="play-circle"></i>Start
  </button>
</app-layout>
