
<app-layout>
  <app-stepper [currentIndex]="1" [isLoading]="isLoading"></app-stepper>
  <nz-timeline [nzPending]="pendingTest?.description">
    <ng-container *ngFor="let test of tests">
      <nz-timeline-item
        *ngIf="test.status && test.status !== 'pending'"
        [nzColor]="test.status === 'success' ? 'green' : 'red'"
      >
        <span nz-tooltip [nzTooltipTitle]="tooltipTemplate" nzTooltipPlacement="right">
          {{ test.description }}
          <ng-template #tooltipTemplate>
            <i nz-icon nzType="clock-circle" class="mr-8"></i>
            <span>{{ (test.startDate | datetime:'HH:mm:ss') + ' -> ' + (test.endDate | datetime:'HH:mm:ss') }}</span>
          </ng-template>
        </span>
        <p *ngFor="let detail of test.results?.details | keyvalue" class="m-0 mt-5">
          <i nz-icon class="mr-8" [nzType]="detail.value ? 'check-circle' : 'close-circle'" [ngClass]="detail.value ? 'green-color' : 'red-color'"></i>
          {{ detail.key }}
        </p>
      </nz-timeline-item>
    </ng-container>
  </nz-timeline>
  <button nz-button nzType="default" nzShape="round" class="retry-button" [disabled]="isLoading" (click)="reload()">
    <i nz-icon nzType="reload"></i>Retry
  </button>
</app-layout>
